<!DOCTYPE>
<html ng-app="if-computing">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Latest compiled and minified bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="./style.css">
    <link href='https://fonts.googleapis.com/css?family=Raleway:300,400,800' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,300,100,300italic,100italic' rel='stylesheet' type='text/css'>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <title>if-computing</title>
  </head>

  <body>
    <div class="center-container" id="paper">
      <div class="container" id="scenario">
        <div class="row" id="first" >
          <div class="page-header">
            <h1>IF-Computing,<br> Make a Scenario.</h1>

          </div>

          <div class="row" id="Qtokens" >

            <div class="col-sm-12" ng-controller="TokenCtrl">
              <!-- CRUD Tokens -->
              <p style="color:black;"> This is a prototype build. The "ADD SCENARIO" BUTTON ADDS an Empty Game Data Type,
                but the editing features do not work.<br>
                You can also add a new Game Data Type by typing inputs in the input forms boxes.<br>
                The Scenario section is to ADD a theme to the Game Data Type.<br>
                The Questions sections ADDS an array of questions. But you can only add one to start.<br>
                You can EDIT and UPDATE (push) a new question, but it only repeats the original question.<br>
                The Tokens sections ADDS an array of Tokens seperated by commas.<br>
                You can look at the data you ADDED by going to: if-computing.herokuapp.com/set. <br>
                DELETE BUTTON WORKS <br>
              </p>
              <h3 class="sub-header"><button class="btn btn-danger" ng-click="addEmptyScenario()">Add a Scenario</button></h3>
              <h5> Adds an empty scenario </h5>
              <div class="table-responsive" >
                <table class="table">
                  <thead> <!-- Table Head Tokens Input -->
                    <tr>
                      <th>Scenario</th>
                      <th>Questions</th>
                      <th>Tokens</th>
                    </tr>
                    <tr>
                      <!-- Input forms have ng-model so saved data can be saved in the right json object -->
                      <td style="padding:8px" ><input class="form-control" ng-model="game.theme"></td>
                      <td style="padding:8px" ><input class="form-control" ng-model="game.question.text"></td>
                      <td style="padding:8px" ><input class="form-control"  ng-model="game.token"></td>
                      <td style="padding-top:8px" >
                        <div class="btn-group" role="group">
                          <!-- Buttons to Add Input Information as Database/ Update is shown only in editing mode -->
                          <button class="btn btn-success" ng-hide="edit" ng-click="addScenario()">Add</button>
                          <button class="btn btn-success" ng-show="edit" ng-click="updateScenario()">Update</button>
                        </div>
                      </td>
                    </tr>
                  </thead> <!-- END Table Head Tokens Input  -->
                  <tbody ng-repeat="game in set">
                    <!-- Output Data Information Here Theme, Question and Tokens -->
                    <tr>
                      <td>{{game.theme}}</td>
                      <td ng-repeat="question in game.question"> {{question.text}} </td>
                      <!-- Delete and Edit button for Each Game Set -->
                      <td><button class="btn btn-danger" ng-click="deleteScenario(game._id)">Delete</button></td>
                      <td><button class="btn btn-danger" ng-click="editScenario(game._id)">Edit</button></td>
                      <!-- Show button for editing Tokens NOT FUNCTIONAL-->
                      <td><button class="btn btn-success" >Show more</button></td>
                    </tr>
                    <tr ng-repeat="token in game.token">
                      <!-- Printing out Token information -->
                      <td>{{token.name}}</td>
                      <td>{{game.theme}}</td>
                      <td>
                        <div class="btn-group" role="group">
                          <!-- Buttons to Delete/Edit Token NOT FUNCTIONAL -->
                          <button class="btn btn-danger" ng-click="deleteToken(game._id)">Delete</button>
                          <button class="btn btn-default" ng-click="editToken(token._id)">Edit</button>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div> <!-- CRUD QUESTIONS COLUMN 4 -->

          </div> <!-- End of Input Questions Tokens Row -->
        </div> <!-- End of First Row -->
      </div> <!-- End of Scenario Container -->
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0-rc.1/angular.min.js"></script>
      <script src="controllers/allController.js"></script>
      <script src="controllers/tokenController.js"></script>
      <script src="controllers/questionController.js"></script>
    </div> <!-- End of Paper Container -->
  </body>
</html>
